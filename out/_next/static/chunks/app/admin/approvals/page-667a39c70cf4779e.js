(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5],{3715:function(e,t,a){"use strict";a.d(t,{Z:function(){return l}});/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,a(5531).Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},4728:function(e,t,a){Promise.resolve().then(a.bind(a,6350))},6350:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return f}});var l=a(7437),s=a(2265),r=a(4033),n=a(5278),i=a(6691),o=a.n(i),d=a(5754),c=a(4900),u=a(3715),p=a(6483);function x(e){var t;let{approval:a,onStatusChange:r}=e,[i,x]=(0,s.useTransition)(),[m,f]=(0,s.useState)(null),[h,g]=(0,s.useState)(null),[b,v]=(0,s.useState)(!1),[y,j]=(0,s.useState)(null),[N,w]=(0,s.useState)("");async function k(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";g(null);let l={status:e};"rejected"===e||"need_update"===e?l.reason=t:l.reason=null;let{error:s}=await n.O.from("creator_approval").update(l).eq("id",a.id);return s?(g(s.message),!1):(f(e),r&&r(a.id),!0)}(0,s.useEffect)(()=>{if(y){var e;w(null!==(e=a.reason)&&void 0!==e?e:""),g(null)}},[y,a.reason]);let _=e=>{j(e),g(null)};return"approved"===m?(0,l.jsxs)("div",{className:"relative flex flex-col md:flex-row items-start p-4 gap-4 border rounded-lg shadow-sm bg-green-900 border-green-700 opacity-80",children:[(0,l.jsxs)("div",{className:"relative w-full md:w-[240px] h-[160px] flex-shrink-0 rounded-lg overflow-hidden bg-gray-950 flex items-center justify-center",children:[(0,l.jsx)(o(),{src:a.thumbnail_url||"/placeholder.svg?height=160&width=240",alt:"".concat(a.startup_name," Thumbnail"),fill:!0,style:{objectFit:"cover"},className:"opacity-50"}),(0,l.jsx)("span",{className:"absolute text-green-400 font-bold text-xl z-10",children:"Approved!"})]}),(0,l.jsxs)("div",{className:"flex-1 flex flex-col gap-2",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-green-300",children:a.startup_name}),(0,l.jsxs)("p",{className:"text-sm text-green-400",children:[a.startup_type," • ",a.domain]}),(0,l.jsx)("p",{className:"text-sm text-green-500 leading-relaxed line-clamp-2",children:a.description})]})]}):"rejected"===m||"need_update"===m?(0,l.jsxs)("div",{className:"relative flex flex-col md:flex-row items-start p-4 gap-4 border rounded-lg shadow-sm bg-yellow-900 border-yellow-700 opacity-80",children:[(0,l.jsxs)("div",{className:"relative w-full md:w-[240px] h-[160px] flex-shrink-0 rounded-lg overflow-hidden bg-gray-950 flex items-center justify-center",children:[(0,l.jsx)(o(),{src:a.thumbnail_url||"/placeholder.svg?height=160&width=240",alt:"".concat(a.startup_name," Thumbnail"),fill:!0,style:{objectFit:"cover"},className:"opacity-50"}),(0,l.jsx)("span",{className:"absolute text-yellow-300 font-bold text-lg z-10",children:"rejected"===m?"Rejected":"Need Update"})]}),(0,l.jsxs)("div",{className:"flex-1 flex flex-col gap-2",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-yellow-300",children:a.startup_name}),(0,l.jsxs)("p",{className:"text-sm text-yellow-400",children:[a.startup_type," • ",a.domain]}),(0,l.jsx)("p",{className:"text-sm text-yellow-400 leading-relaxed line-clamp-2",children:a.description}),a.reason&&(0,l.jsxs)("p",{className:"mt-2 text-xs italic text-yellow-200",children:["Reason: ",a.reason]})]})]}):(0,l.jsxs)("div",{className:"relative flex flex-col md:flex-row items-start p-4 gap-4 border rounded-lg shadow-sm bg-gray-900 border-gray-700 hover:shadow-lg transition-shadow",children:[(0,l.jsxs)("div",{className:"relative w-full md:w-[240px] h-[160px] flex-shrink-0 rounded-lg overflow-hidden bg-gray-950 cursor-pointer group",onClick:()=>a.pitch_video_url&&v(!0),children:[a.thumbnail_url?(0,l.jsx)(o(),{src:a.thumbnail_url||"/placeholder.svg",alt:"".concat(a.startup_name," Thumbnail"),fill:!0,style:{objectFit:"cover"},className:"transition-transform duration-300 group-hover:scale-105"}):(0,l.jsx)(o(),{src:"/placeholder.svg?height=160&width=240",alt:"Thumbnail Placeholder",fill:!0,style:{objectFit:"cover"},className:"transition-transform duration-300 group-hover:scale-105"}),a.pitch_video_url&&(0,l.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-40 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:(0,l.jsx)(c.Z,{className:"h-12 w-12 text-white"})})]}),(0,l.jsxs)("div",{className:"flex-1 flex flex-col gap-2",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-gray-100",children:a.startup_name}),(0,l.jsxs)("p",{className:"text-sm text-gray-300",children:[a.startup_type," • ",a.domain]}),(0,l.jsx)("p",{className:"text-gray-400 text-sm leading-relaxed line-clamp-3",children:a.description}),(0,l.jsx)("div",{className:"flex flex-wrap gap-2 mt-2",children:null===(t=a.founder_names)||void 0===t?void 0:t.filter(Boolean).map((e,t)=>(0,l.jsx)("span",{className:"inline-block bg-purple-700 text-purple-100 text-xs px-3 py-1 rounded-full font-medium",children:e},t))}),(0,l.jsxs)("div",{className:"text-gray-500 text-xs mt-1",children:[(0,l.jsxs)("span",{children:["Location: ",a.location]})," • ",(0,l.jsxs)("span",{children:["Language: ",a.language]})," •"," ",(0,l.jsxs)("span",{children:["Submitted: ",new Date(a.created_at).toLocaleDateString()]})]}),h&&(0,l.jsx)("div",{className:"text-red-400 text-xs font-semibold mt-2",children:h}),!y&&(0,l.jsxs)("div",{className:"flex gap-2 mt-4",children:[(0,l.jsx)(d.z,{type:"button",className:"bg-purple-600 text-white hover:bg-purple-700 flex-1",onClick:e=>{e.preventDefault(),g(null),x(()=>{k("approved")})},disabled:i,children:i?(0,l.jsx)(u.Z,{className:"mr-2 h-4 w-4 animate-spin"}):"Approve"}),(0,l.jsx)(d.z,{type:"button",variant:"outline",className:"border-red-600 text-red-500 hover:bg-red-900/30 flex-1",onClick:()=>_("rejected"),disabled:i,children:"Reject"}),(0,l.jsx)(d.z,{type:"button",variant:"outline",className:"border-yellow-500 text-yellow-400 hover:bg-yellow-900/30 flex-1",onClick:()=>_("need_update"),disabled:i,children:"Need Update"})]}),y&&(0,l.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!N.trim()){g("Please provide a reason.");return}g(null),j(null),x(()=>{k(y,N)})},className:"flex flex-col gap-2 mt-4",children:[(0,l.jsx)("textarea",{placeholder:"Enter reason for ".concat("rejected"===y?"rejection":"update","..."),value:N,className:"rounded-md bg-gray-950 border-gray-700 p-2 text-sm text-gray-100",rows:3,onChange:e=>w(e.target.value),required:!0}),(0,l.jsxs)("div",{className:"flex gap-2",children:[(0,l.jsx)(d.z,{type:"submit",className:"flex-1 ".concat("rejected"===y?"bg-red-700":"bg-yellow-600"," text-white"),disabled:i,children:i?(0,l.jsx)(u.Z,{className:"mr-2 h-4 w-4 animate-spin"}):"Submit"}),(0,l.jsx)(d.z,{type:"button",variant:"outline",className:"flex-1",onClick:()=>j(null),disabled:i,children:"Cancel"})]})]})]}),a.pitch_video_url&&(0,l.jsx)(p.w,{isOpen:b,onClose:()=>v(!1),videoUrl:a.pitch_video_url,title:a.startup_name})]})}let m=[{key:"pending",label:"Pending"},{key:"rejected",label:"Rejected"},{key:"need_update",label:"Need Update"}];function f(){var e,t;let[a,i]=(0,s.useState)(null),[o,c]=(0,s.useState)("pending"),[u,p]=(0,s.useState)({pending:[],rejected:[],need_update:[]}),[f,h]=(0,s.useState)(!1),[g,b]=(0,s.useState)(null),v=(0,r.useRouter)();(0,s.useEffect)(()=>{!async function(e){h(!0),b(null);let{data:{user:t},error:a}=await n.O.auth.getUser();if(a||!t){i(null),b("User not authenticated.\n\nPlease ensure you are authenticated and have the necessary permissions."),h(!1);return}i(t);let{data:l,error:s}=await n.O.from("creator_approval").select("*").eq("status",e).order("created_at",{ascending:!1});if(s){b("Error loading approvals: "+s.message),h(!1);return}p(t=>({...t,[e]:l})),h(!1)}(o)},[o]);let y=e=>{p(t=>({...t,[o]:t[o].filter(t=>t.id!==e)}))};return(0,l.jsxs)("div",{className:"max-w-3xl mx-auto py-8 px-2 space-y-8 bg-gray-950 min-h-screen",children:[(0,l.jsx)("h1",{className:"text-2xl font-bold text-purple-400 mb-6",children:"Creator Approvals"}),(0,l.jsx)("div",{className:"flex gap-2 mb-6",children:m.map(e=>(0,l.jsx)("button",{className:"px-4 py-2 rounded-lg font-semibold ".concat(o===e.key?"bg-purple-600 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"," transition"),onClick:()=>c(e.key),children:e.label},e.key))}),f?(0,l.jsx)("div",{className:"flex flex-col items-center justify-center min-h-[300px] text-gray-400",children:(0,l.jsxs)("div",{className:"text-lg",children:["Loading ",null===(e=m.find(e=>e.key===o))||void 0===e?void 0:e.label.toLowerCase()," approvals..."]})}):g?(0,l.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-[300px] text-gray-400",children:[(0,l.jsx)("div",{className:"text-red-400 mb-4 whitespace-pre-line",children:g}),(0,l.jsx)(d.z,{onClick:()=>v.push("/login"),className:"bg-purple-600 hover:bg-purple-700 text-white",children:"Login"})]}):0===u[o].length?(0,l.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-[300px] text-gray-400",children:[(0,l.jsxs)("div",{className:"text-lg",children:["No ",null===(t=m.find(e=>e.key===o))||void 0===t?void 0:t.label.toLowerCase()," creator approvals at this time."]}),(0,l.jsx)("div",{className:"text-sm text-gray-500 mt-2",children:"Check back later!"})]}):u[o].map(e=>(0,l.jsx)(x,{approval:e,onStatusChange:"pending"===o?y:void 0},e.id))]})}},5754:function(e,t,a){"use strict";a.d(t,{z:function(){return d}});var l=a(7437),s=a(2265),r=a(7256),n=a(6061),i=a(1657);let o=(0,n.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),d=s.forwardRef((e,t)=>{let{className:a,variant:s,size:n,asChild:d=!1,...c}=e,u=d?r.g7:"button";return(0,l.jsx)(u,{className:(0,i.cn)(o({variant:s,size:n,className:a})),ref:t,...c})});d.displayName="Button"},2706:function(e,t,a){"use strict";a.d(t,{$N:function(){return x},Vq:function(){return o},cZ:function(){return u},fK:function(){return p}});var l=a(7437),s=a(2265),r=a(8712),n=a(2549),i=a(1657);let o=r.fC;r.xz;let d=r.h_;r.x8;let c=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,l.jsx)(r.aV,{ref:t,className:(0,i.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...s})});c.displayName=r.aV.displayName;let u=s.forwardRef((e,t)=>{let{className:a,children:s,...o}=e;return(0,l.jsxs)(d,{children:[(0,l.jsx)(c,{}),(0,l.jsxs)(r.VY,{ref:t,className:(0,i.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...o,children:[s,(0,l.jsxs)(r.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,l.jsx)(n.Z,{className:"h-4 w-4"}),(0,l.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});u.displayName=r.VY.displayName;let p=e=>{let{className:t,...a}=e;return(0,l.jsx)("div",{className:(0,i.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...a})};p.displayName="DialogHeader";let x=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,l.jsx)(r.Dx,{ref:t,className:(0,i.cn)("text-lg font-semibold leading-none tracking-tight",a),...s})});x.displayName=r.Dx.displayName,s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,l.jsx)(r.dk,{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",a),...s})}).displayName=r.dk.displayName},6483:function(e,t,a){"use strict";a.d(t,{w:function(){return r}});var l=a(7437),s=a(2706);function r(e){let{isOpen:t,onClose:a,videoUrl:r,title:n}=e;if(!t||!r)return null;let i=(e=>{let t=e.match(/(?:https?:\/\/)?(?:www\.)?(?:youtube\.com|youtu\.be)\/(?:watch\?v=|embed\/|v\/|)([\w-]{11})(?:\S+)?/);return t&&t[1]?"https://www.youtube.com/embed/".concat(t[1],"?autoplay=1&rel=0"):e})(r);return(0,l.jsx)(s.Vq,{open:t,onOpenChange:a,children:(0,l.jsxs)(s.cZ,{className:"sm:max-w-[800px] w-full p-0 overflow-hidden bg-gray-900 text-white border-gray-700",children:[(0,l.jsx)(s.fK,{className:"p-4 pb-0",children:(0,l.jsx)(s.$N,{className:"text-lg font-semibold text-gray-100",children:n})}),(0,l.jsx)("div",{className:"relative w-full",style:{paddingTop:"56.25%"},children:i.includes("youtube.com/embed")||i.includes("youtu.be/embed")?(0,l.jsx)("iframe",{className:"absolute top-0 left-0 w-full h-full rounded-b-lg",src:i,title:n,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0},i):(0,l.jsx)("video",{className:"absolute top-0 left-0 w-full h-full rounded-b-lg",controls:!0,autoPlay:!0,src:i,children:"Your browser does not support the video tag."})})]})})}},5278:function(e,t,a){"use strict";a.d(t,{O:function(){return l}});let l=(0,a(2362).eI)("https://cvcmjtyamlwgkcmsiemd.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImN2Y21qdHlhbWx3Z2tjbXNpZW1kIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDk4OTQyNTEsImV4cCI6MjA2NTQ3MDI1MX0.HyRKMdofXJjlbnsagmQscBBTSr0aJBkxaSzAkPoyA2k")},1657:function(e,t,a){"use strict";a.d(t,{cn:function(){return r}});var l=a(7042),s=a(4769);function r(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,s.m6)((0,l.W)(t))}}},function(e){e.O(0,[900,362,691,892,971,938,744],function(){return e(e.s=4728)}),_N_E=e.O()}]);